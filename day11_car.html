<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>day11_car</title>
    <link rel="stylesheet" href="./data/21 JS기초예제/styles/reset.css">
    <link rel="stylesheet" href="./data/21 JS기초예제/styles/day11_car.css">
</head>
<body>
    <main>
        <!-- 카히스토리 영상 -->
        <section id="video">
            <p class="category">video</p>
            <h1>카히스토리 영상</h1>
            <p class="contents">영상을 통해 카히스토리 사용방법 등 자세한 정보를 확인해보세요.</p>
            <!-- 탭 사작 -->
            <div class="tab_title">
                <a href="#" class="active">안내</a>
                <a href="#">사용방법</a>
            </div>
            <div class="tab_contents">
                <div class="tab_c1 active">
                    <video src="./carhistory_image/carhistory.mp4" autoplay muted loop></video>
                    <img src="./carhistory_image/video.png" alt="">
                </div>
                <div class="tab_c2">
                    <img src="./carhistory_image/hero-bg-md-01.gif" alt="">
                </div>
            </div>
        </section>
        <!--자주 사용하는 메뉴 -->
        <section id="menu">
            <p class="category">menu</p>
            <h1>자주 사용하는 메뉴</h1>
            <p class="contents">자주 사용하는 메뉴로 카히스토리를 보다 편리하게 이용하세요.</p>
            <div class="tab_title">
                <a href="#" class="active">사고이력조회</a>
                <a href="#">정보이용료</a>
                <a href="#">조회방법</a>
                <a href="#">용어설명</a>
            </div>
            <div class="tab_contents">
                <div class="tab_c1">
                    <div class="left">
                        <h2>사고이력조회 ></h2>
                        <p><img src="./carhistory_image/car-new.png" alt=""></p>
                        <p>관련메뉴<br>
                            -조회가 원활하게 안되시나요? 
                            <a href="#">고객문의 바로가기></a>
                        </p>
                    </div>
                    <div class="right">
                        <h3>왜 사고이력조회가 필수인가?</h3>
                        <ul>
                            <li>
                                <p><img src="./carhistory_image/menu-1-1.png" alt=""></p>
                                <div class="contents">
                                    <p><em>01</em></p>
                                    <p><strong>평균 사고 건수 2.93건</strong>(2016년 카히스토리 조회 차량 기준)</p>
                                </div>
                            </li>
                            <li>
                                <img src="./carhistory_image/menu-1-2.png" alt="">
                                <div class="contents">
                                    <p><em>02</em></p>
                                    <p>운전자의 안전을 위협하는 침수, 전손 확인</p>
                                </div>
                            </li>
                            <li>
                                <img src="./carhistory_image/menu-1-3.png" alt="">
                                <div class="contents">
                                    <p><em>03</em></p>
                                    <p>허위 매물 방지</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="tab_c2">정보이용료 내용</div>
                <div class="tab_c3">조회방법 내용</div>
                <div class="tab_c4">용어설명 내용</div>
            </div>
        </section>
    </main>
    <script>
        // 카히스토리 스크립트영상
        // 1. 안내 초기 보이기 (사용방법내용 초기 숨기기)
        // 2. 사용방법 탭제목 클릭 시 사용방법 내용 보이기(안내 내용 숨기기)
        // 3. 안내 탭제목 클릭 시 안내 내용 보이기(사용방법 내용 숨기기)
        // 변수
        const videoTabTitle = document.querySelectorAll('#video .tab_title a')
        const videoTabContent = document.querySelectorAll('#video .tab_contents > div')
        console.log(videoTabTitle, videoTabContent)

        videoTabContent[1].style.display = 'none'
        /* 
        DOM 객체 2개 이상을 변수 querySeletorAll로 저장했을 경우 자바스크립트 속성 및 메소드로
        활용하고자 하는 경우 바로 변수명을 작성하지 않고 인덱스 번호를 작성해서 이용해야 한다.
        DOM 변수명 x
        DOM 변수명 [인덱스] o
        2개 이상을 동시에 처리하기 위해 for를 사용하는
        경우라면 인덱스를 표시하지 않기도 한다.
        */
        // for를 이용한 반복문으로 인덱스없이 처리하는 방법
        /* for(let i of videoTabContent){
            console.log(i)
        } */
        /* 
            a태그에 자바스크립트 클릭 이벤트 적용 시
            화면 새로고침으로 스크롤이 위로 올라가는 문제가 생긴다.
            이유는 a href의 고유속성 때문
            해결방법 = href기능 막아주는 자바스크립트 메소드 추가
                클릭이벤트 함수의 매개변수를 생성하면
                매개변수에 href 속성이 담기므로 해당 매개변수를 활용
                preventDefault() 메소드를 연결해서 기능막기
        */
        /* videoTabTitle[1].addEventListener('click',function(e){
            e.preventDefault()
            videoTabContent[0].style.display = 'none'
            videoTabContent[1].style.display = 'block'
        })
        videoTabTitle[0].addEventListener('click',function(e){
            e.preventDefault()
            videoTabContent[0].style.display = 'block'
            videoTabContent[1].style.display = 'none'
        }) */
        // 위 개별 클릭 이벤트 for문으로 처리하기
        /* 
        2개 이상의 DOM 객체 변수 (querySelectorAll 선언대상)
        for ~ of 사용 경우 
            >> 동일 객체 변수에 동일한 속성, 메소드 적용할 때
            >> TabTitle 2개 대상을 가진 변수에 같은 속성 적용할 때
        forEach
            >> 2개 이상의 동일객체변수가 인덱스가 통일됐을 경우
                해당 변수의 속성, 메소드를 적용할 때
            >> tabTitle 2개, tabContents 2개의 변수에 같은 속성 적용
            >> forEach 첫번째 선언 변수는 이벤트 제어 대상으로
            >> forEach 함수 내 선언 변수는 이벤트 결과대상으로
            >> 변수.forEach(function(매개변수들){실행함수})
        */
        videoTabTitle.forEach(function(target, index, array){
            target.addEventListener('click',function(e){
                e.preventDefault()
                // 클릭 이벤트 안에서는 이벤트 대상의 인덱스만 인식한다.
                console.log(index)
                // 모두 슴기기(클릭한 대상 상관없이)
                for(let i of videoTabContent){i.style.display = 'none'}
                // 클릭한 객체 인덱스와 동일한 인덱스의 다른 요소 체크!
                videoTabContent[index].style.display = 'block'
                // for문 활용해서 동일 인데스 출력을 진행할 경우
                /* 
                출력 외 대상을 숨길때는 정학히 어떤 인데스를 숨길거냐 정하는
                것이 아닌 대상 모두를 숨기고 그 중 해당된느 인덱스만 출력하는 방향으로 진행한다.
                */
            })
        })
    </script>
</body>
</html>